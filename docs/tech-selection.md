# 技術選定の理由
なぜその技術を使うに至ったか・なぜ選んだのかを記録しておく
## AWS
- ISUCON11の公式ではAWSが使われているから
  - 同じインスタンス・環境を使える状態の方が良い
    - 現状はお金の問題で低い性能のインスタンスを使っているけど

## Terraform
- インスタンスやネットワークの設定をコードとしてこのレポジトリで管理したい
- [ベンチマーク・計測の自動化](./docs/run-bench.md)を行うにあたって，同じ環境を何度も立てたり削除したりする必要がある

### CloudFormationとの比較
- あくまで勉強の一環として使っているので，AWSに限らず汎用的に使えるTerraformを使いたい
- AWSの場合ならCloudFormationの方が機能性は高そうだと感じた
  - 参考: https://qiita.com/answer_d/items/74c3d317058d48394d21
- 今回やりたいことは両方とも問題なくできそう

## Ansible
- Terraform導入時にシェルスクリプトを使ってインスタンスを初期化していたが，以下の理由から不便に感じていた
  - シェルスクリプト自体に癖があるので，後に修正が入ったときにバグりやすい
  - 冪等なスクリプトではないので，初期化時にエラーが起こったときの対処が大変
- これらの不便な点を解消できる
- 管理したいサーバーにはツールをインストールする必要がない
  - ベンチマークの特典を少しでも上げるために余計なツールは入れたくない
### Terraformとの併用について
実行環境を立ち上げる際には「インスタンス及びネットワークの設定」，「起動したインスタンスの設定」の２つをする必要がある．TerraformもAnsibleも単独で２つの設定をすることが可能らしい．しかしTerraformは前者，Ansibleは後者をする目的のツールであり，そのための機能が充実している．逆に両者ともに他方の設定をするためには不便なことが多い．そのため２つのツールを併用することにした．
